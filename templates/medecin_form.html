<!DOCTYPE html>
<html lang="fr">
<head>
 <meta charset="UTF-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1" />
 <title>{{ 'Modifier Médecin' if medecin else 'Ajouter Médecin' }}</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
 <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />
 <link rel="stylesheet" href="{{ url_for('static', filename='css/manage_entity.css') }}" />
 <link rel="stylesheet" href="{{ url_for('static', filename='css/patient_form.css') }}">
</head>
<body>
 <div class="sidebar">
  <div class="sidebar-header">
   <h3><i class="fas fa-hospital-user"></i> Admin Panel</h3>
  </div>
  <ul class="sidebar-nav">
   <li><a href="{{ url_for('dashboard_admin') }}"><i class="fas fa-tachometer-alt"></i> Tableau de bord</a></li>
   <li><a href="{{ url_for('manage_patients') }}"><i class="fas fa-users"></i> Gérer Patients</a></li>
   <li class="active"><a href="{{ url_for('manage_medecins') }}"><i class="fas fa-user-md"></i> Gérer Médecins</a></li>
   <li><a href="{{ url_for('manage_consultations') }}"><i class="fas fa-file-medical-alt"></i> Gérer Consultations</a></li>
   <li><a href="{{ url_for('manage_users') }}"><i class="fas fa-users-cog"></i> Gérer Utilisateurs</a></li>
   <li><a href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt"></i> Déconnexion</a></li>
  </ul>
 </div>

 <div class="main-content">
  <header>
   <h1><i class="fas fa-user-md"></i> Gestion des Médecins - Formulaire</h1>
   <div class="user-info">
    <span>Admin User <i class="fas fa-user-circle"></i></span>
   </div>
  </header>

  <div class="container">

    <form method="POST">
        <div class="form-group">
        <label for="nom">Nom</label>
        <input type="text" id="nom" name="nom" required value="{{ medecin.nom if medecin else '' }}">
        </div>

        <div class="form-group">
        <label for="specialite">Spécialité</label>
        <input type="text" id="specialite" name="specialite" required value="{{ medecin.specialite if medecin else '' }}">
        </div>

        <div class="form-group">
        <label for="adresse">Adresse</label>
        <input type="text" id="adresse" name="adresse" required value="{{ medecin.adresse if medecin else '' }}">
        </div>

        <div class="form-group">
            <label for="num_tel">Téléphone</label>
            <input type="text" id="num_tel" name="num_tel" value="{{ medecin.num_tel if medecin else '' }}" />
        </div>

        <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required value="{{ medecin.email if medecin else '' }}">
        </div>

        <div class="form-group">
        <label>Disponibilités</label>
        {% set days = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'] %}
        <div class="checkbox-group">
        {% for day in days %}
        <label><input type="checkbox" name="disponibilite" value="{{ day }}" 
        {% if medecin and day in medecin.disponibilite %}checked{% endif %}> {{ day }}</label>
        {% endfor %}
        </div>
        </div>

        <div class="form-group">
        <label for="experiences">Expériences</label>
        <textarea id="experiences" name="experiences" rows="3" required>{{ medecin.experiences if medecin else '' }}</textarea>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn-submit">{{ 'Modifier' if medecin else 'Ajouter' }}</button>
            <button href="{{ url_for('manage_medecins') }}" class="btn-cancel">Annuler</button>
        </div>
    </form>
  </div>
 </div>


</body>
</html>
